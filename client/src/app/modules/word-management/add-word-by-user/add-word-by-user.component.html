<p-toast position='bottom-center' key='bc'></p-toast>
<p-toast></p-toast>

<form [formGroup]='selectLanguageForm' class='select-language-container'>
  <div class='row'>
    <div class='col-sm-1'></div>
    <div class='col-sm-1 pre-text-container'>
      From
    </div>
    <div class='col-sm-4'>
      <p-dropdown [options]='baseLanguages'
                  placeholder='Base language'
                  formControlName='baseLanguage'
                  optionLabel='name'
                  [showClear]='true'
                  [styleClass]="baseLanguage.invalid && selectLanguageForm.dirty ? 'field-not-valid' : ''">
      </p-dropdown>
    </div>
    <div class='col-sm-1 pre-text-container'>
      <span>To</span>
    </div>
    <div class='col-sm-4'>
      <p-dropdown [options]='targetLanguages'
                  placeholder='Target language'
                  optionLabel='name'
                  formControlName='targetLanguage'
                  [showClear]='true'
                  [styleClass]="targetLanguage.invalid && selectLanguageForm.dirty ? 'field-not-valid' : ''">
      </p-dropdown>
    </div>
    <div class='col-sm-1 text-right'>
      <button class='btn ml-2' [ngClass]="isSelectedLanguageSubmit.value ? 'btn-primary' : 'btn-success'" type='submit'
              [disabled]='isBookLoading'
              (click)='submitSelectedLanguages()'>
        {{isSelectedLanguageSubmit.value ? 'Edit' : 'Next'}}
      </button>
    </div>
  </div>
</form>

<form [formGroup]='selectBookForm' class='select-language-container' appLoading [loadingFlag]='isBookLoading'>
  <div class='row'>
    <div class='col-sm-1 text-center form-check'>
      <button pButton
              pRipple
              type='button'
              [icon]="selectBookRandom.value === 'book' ? 'pi pi-check': 'pi'"
              class='p-button-rounded'
              (click)="selectBookRandom.setValue('book'); selectBookForm.enable()"></button>
    </div>
    <div class='col-sm-1 pre-text-container'>
      Book
    </div>
    <div class='col-sm-4'>
      <p-dropdown [options]='books'
                  placeholder='Select a book'
                  formControlName='book'
                  optionLabel='name'
                  (onChange)='bookSelectionChange($event)'
                  [showClear]='true'
                  [styleClass]="book.invalid && selectLanguageForm.dirty ? 'field-not-valid' : ''">

      </p-dropdown>
    </div>
    <div class='col-sm-1 pre-text-container'>
      Chapter
    </div>
    <div class='col-sm-4'>

      <p-dropdown [options]='chapters'
                  placeholder='Select a chapter'
                  formControlName='chapter'
                  optionLabel='name'
                  (onChange)='chapterSelectionChange($event)'
                  [showClear]='true'>

      </p-dropdown>
      <label style='background-color: lightgray; margin-top:3px;padding:4px; border-radius: 3px;color: gray'>Optional
        field</label>
    </div>
    <div class='col-sm-1'>
      <button class='btn ml-2' [ngClass]="isSelectedLanguageSubmit.value ? 'btn-primary' : 'btn-success'" type='submit'
              [disabled]='isBookLoading'
              (click)='submitSelectedLanguages()'>
        {{isSelectedLanguageSubmit.value ? 'Edit' : 'Next'}}
      </button>
    </div>
  </div>
  <div class='row mt-2'>
    <div class='col-sm-1 text-center'>
      <button pButton
              pRipple
              type='button'
              [icon]="selectBookRandom.value === 'random' ? 'pi pi-check': 'pi'"
              class='p-button-rounded'
              (click)="selectBookRandom.setValue('random'); selectBookForm.disable()"></button>
    </div>
    <div class='col-sm-6 random-word-text-container'>
      I dont want to select any book, just want to add some words randomly.
    </div>
  </div>
</form>
